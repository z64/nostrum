    <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.18.3">
    <title>Nostrum.Util – Elixir v0.3.0</title>
    <link rel="stylesheet" href="dist/app-480ffdc169.css" />
    
    <script src="dist/sidebar_items-bff09e43e5.js"></script>
    
    
    
    
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>

    <div class="main">
<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<button class="sidebar-button night-mode-toggle">
  <span class="icon-theme" aria-hidden="true"></span>
  <span class="sr-only">Toggle Theme</span>
</button>
<section class="sidebar">

  
  <a href="https://github.com/kraigie/nostrum" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        Elixir
      </h1>
      <h2 class="sidebar-projectVersion">
        v0.3.0
      </h2>
    </div>
    
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="Search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    
      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>
    

    
      <li><a id="tasks-list" href="#full-list">Mix Tasks</a></li>
    
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">Elixir v0.3.0</small>
        Nostrum.Util
        
          <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
        
      </h1>

      
        <section id="moduledoc">
          <p>Utility functions</p>

        </section>
      

      
        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
          

          
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#enum_to_struct/2">enum_to_struct(enum, struct)</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#gateway/0">gateway()</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the gateway url for current websocket connections</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#maybe_to_atom/1">maybe_to_atom(token)</a>
  </div>
  
    <div class="summary-synopsis"><p>Attempts to convert a string to an atom</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#nostrum_struct/1">nostrum_struct(body)</a>
  </div>
  
    <div class="summary-synopsis"><p>Helper for defining all the methods used for struct and encoding transformations</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#now/0">now()</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the number of milliseconds since unix epoch</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#now_iso/0">now_iso()</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the current date as an ISO formatted string</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#num_shards/0">num_shards()</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the number of shards</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#producers/0">producers()</a>
  </div>
  
    <div class="summary-synopsis"><p>Gets all producers Nostrum event producers</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#safe_atom_map/1">safe_atom_map(term)</a>
  </div>
  
    <div class="summary-synopsis"><p>Converts a map into an atom-keyed map</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#unused_atoms/0">unused_atoms()</a>
  </div>
  
    <div class="summary-synopsis"><p>Since we’re being sacrilegious and converting strings to atoms from the WS, there will be some
atoms that we see that aren’t defined in any Discord structs. This method mainly serves as a
means to define those atoms once so the user isn’t warned about them in the
<a href="Nostrum.Util.html#maybe_to_atom/1"><code class="inline">Nostrum.Util.maybe_to_atom/1</code></a> function when they are in fact harmless</p>
</div>
  
</div>

  </div>


          

        </section>
      

      

      
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Functions
          </h1>
          <div class="detail" id="enum_to_struct/2">
  
  
  <div class="detail-header">
    <a href="#enum_to_struct/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">enum_to_struct(enum, struct)</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L103" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="gateway/0">
  
  
  <div class="detail-header">
    <a href="#gateway/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">gateway()</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L153" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>gateway() :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the gateway url for current websocket connections.</p>
<p>If by chance no gateway connection has been made, will fetch the url to use and store it
for future use.</p>

  </section>
</div>
<div class="detail" id="maybe_to_atom/1">
  
  
  <div class="detail-header">
    <a href="#maybe_to_atom/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">maybe_to_atom(token)</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L212" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>maybe_to_atom(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>() | <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">atom</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Attempts to convert a string to an atom.</p>
<p>If atom does not currently exist, will warn that we’re doing an unsafe conversion.</p>

  </section>
</div>
<div class="detail" id="nostrum_struct/1">
  
  
  <div class="detail-header">
    <a href="#nostrum_struct/1" class="detail-link" title="Link to this macro">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this macro</span>
    </a>
    <span class="signature">nostrum_struct(body)</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L43" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
      <span class="note">(macro)</span>
    
    
  </div>
  <section class="docstring">
    <p>Helper for defining all the methods used for struct and encoding transformations.</p>
<h2 id="nostrum_struct/1-example" class="section-heading">
  <a href="#nostrum_struct/1-example" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Example
</h2>

<pre><code class="Elixir">Nostrum.Util.nostrum_struct(%{
  author: User,
  mentions: [User],
  mention_roles: [User],
  embeds: [Embed]
})</code></pre>

  </section>
</div>
<div class="detail" id="now/0">
  
  
  <div class="detail-header">
    <a href="#now/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">now()</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L81" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>now() :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the number of milliseconds since unix epoch.</p>

  </section>
</div>
<div class="detail" id="now_iso/0">
  
  
  <div class="detail-header">
    <a href="#now_iso/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">now_iso()</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L90" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>now_iso() :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the current date as an ISO formatted string.</p>

  </section>
</div>
<div class="detail" id="num_shards/0">
  
  
  <div class="detail-header">
    <a href="#num_shards/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">num_shards()</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L123" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>num_shards() :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the number of shards.</p>
<p>This is not the number of currently active shards, but the number of shards specified
in your config.</p>

  </section>
</div>
<div class="detail" id="producers/0">
  
  
  <div class="detail-header">
    <a href="#producers/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">producers()</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L24" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>producers() :: [<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">pid</a>()]</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Gets all producers Nostrum event producers.</p>
<p>To be used when creating custom consumer processes.</p>
<h2 id="producers/0-example" class="section-heading">
  <a href="#producers/0-example" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Example
</h2>

<pre><code class="Elixir"># Inside of your custom consumer process init callback
def init(state) do
  {:consumer, state, subscribe_to: Nostrum.Util.producers}
end</code></pre>

  </section>
</div>
<div class="detail" id="safe_atom_map/1">
  
  
  <div class="detail-header">
    <a href="#safe_atom_map/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">safe_atom_map(term)</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L191" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>safe_atom_map(<a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()) :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">map</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Converts a map into an atom-keyed map.</p>
<p>Given a map with variable type keys, returns the same map with all keys as <code class="inline">atoms</code>.</p>
<p>This function will attempt to convert keys to an existing atom, and if that fails will default to
creating a new atom while displaying a warning. The idea here is that we should be able to see
if any results from Discord are giving variable keys. Since we <em>will</em> define all
types of objects returned by Discord, the amount of new atoms created <em>SHOULD</em> be 0. 👀</p>

  </section>
</div>
<div class="detail" id="unused_atoms/0">
  
  
  <div class="detail-header">
    <a href="#unused_atoms/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">unused_atoms()</span>
    
      <a href="https://github.com/kraigie/nostrum/blob/master/lib/nostrum/util.ex#L259" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Since we’re being sacrilegious and converting strings to atoms from the WS, there will be some
atoms that we see that aren’t defined in any Discord structs. This method mainly serves as a
means to define those atoms once so the user isn’t warned about them in the
<a href="Nostrum.Util.html#maybe_to_atom/1"><code class="inline">Nostrum.Util.maybe_to_atom/1</code></a> function when they are in fact harmless.</p>

  </section>
</div>

        </section>
      

      
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.18.3),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-9bd040e5e5.js"></script>
  
  
  
  
  </body>
</html>

